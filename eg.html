<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <title>Add Customer</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f4f6f8; color: #333; }
        .container { max-width: 950px; margin: 30px auto; background: #fff; padding: 40px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 30px; }
        h3 { border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 40px; color: #34495e; text-transform: uppercase; letter-spacing: 1px; font-size: 18px; }
        
        /* Form Grid for Text Inputs */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
        .full-width { grid-column: span 2; }
        
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #555; }
        input[type="text"], input[type="number"], input[type="date"], textarea {
            width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; font-size: 15px;
        }
        
        /* --- VISUAL IMAGE SELECTION STYLES --- */
        .style-section-label { font-size: 18px; font-weight: bold; margin-bottom: 15px; display: block; color: #2c3e50; }
        
        .image-selector-group {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 Icons per row */
            gap: 15px;
            margin-bottom: 30px;
        }

        /* Hide the actual radio circle */
        .image-radio-item input[type="radio"] {
            display: none;
        }

        .image-radio-item {
            cursor: pointer;
            position: relative;
        }

        /* The Box Container for the Icon */
        .icon-box {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            background: #fff;
            transition: all 0.2s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* The Image/Icon itself */
        .icon-box img {
            width: 80px;  /* Adjust size as needed */
            height: 80px;
            object-fit: contain;
            margin-bottom: 10px;
            filter: grayscale(100%); /* Optional: Make gray until selected */
            opacity: 0.7;
        }

        /* The Name/Size Text under the icon */
        .icon-label {
            font-size: 14px;
            font-weight: 600;
            color: #777;
        }

        /* --- SELECTED STATE --- */
        /* When radio is checked, change the box style */
        .image-radio-item input[type="radio"]:checked + .icon-box {
            border-color: #27ae60;
            background-color: #eafaf1;
            box-shadow: 0 0 10px rgba(39, 174, 96, 0.3);
            transform: translateY(-3px);
        }

        .image-radio-item input[type="radio"]:checked + .icon-box img {
            filter: grayscale(0%); /* Full color when selected */
            opacity: 1;
        }

        .image-radio-item input[type="radio"]:checked + .icon-box .icon-label {
            color: #27ae60;
        }

        /* Buttons */
        .btn-submit {
            width: 100%; padding: 18px; background: #27ae60; color: white; border: none; font-size: 20px; border-radius: 6px; cursor: pointer; margin-top: 20px; font-weight: bold;
        }
        .btn-submit:hover { background: #219150; }
        
        .back-link { display: block; text-align: center; margin-top: 20px; color: #777; text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Add New Customer</h1>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}" style="padding:15px; margin-bottom:20px; border-radius:5px; background: #d4edda; color: #155724;">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form method="POST">
            <h3>üë§ Personal Details</h3>
            <div class="form-grid">
                <div><label>Customer Name:</label><input type="text" name="userName" required></div>
                <div><label>Phone Number:</label><input type="text" name="phone" required></div>
                <div><label>Number of Suits:</label><input type="number" name="numberOfSuit" value="1" required></div>
                <div><label>Date:</label><input type="date" name="date" required></div>
                <div class="full-width"><label>Address:</label><input type="text" name="address" required></div>
            </div>

            <h3>üìè Measurements</h3>
            <div class="form-grid">
                <div style="background:#f9f9f9; padding:15px; border-radius:8px;">
                    <h4 style="margin:0 0 15px 0; color:#2c3e50;">Shirt / Kameez</h4>
                    <label>Length (Height):</label><input type="text" name="height"><br><br>
                    <label>Width (Chaati):</label><input type="text" name="width"><br><br>
                    <label>Chest Width:</label><input type="text" name="chestWidth"><br><br>
                    <label>Arm Length:</label><input type="text" name="arm"><br><br>
                    <label>Teera (Shoulder):</label><input type="text" name="teera"><br><br>
                    <label>Collar Size:</label><input type="text" name="collar">
                </div>
                <div style="background:#f9f9f9; padding:15px; border-radius:8px;">
                    <h4 style="margin:0 0 15px 0; color:#2c3e50;">Trouser / Shalwar</h4>
                    <label>Shalwar Length:</label><input type="text" name="shalwarLength"><br><br>
                    <label>Poncha:</label><input type="text" name="poncha"><br><br>
                    <label>Width (Ghair):</label><input type="text" name="shalwarWidth"><br><br>
                    <label>Asan (Crotch):</label><input type="text" name="asan">
                </div>
            </div>

            <h3>‚úÇÔ∏è Stitching Instructions</h3>
            
            <label class="style-section-label">1. Collar Style</label>
            <div class="image-selector-group">
                <label class="image-radio-item">
                    <input type="radio" name="style_collar" value="Normal" checked>
                    <div class="icon-box">
                        <!-- <img src="{{ url_for('static', filename='icon/collar.png') }}" alt="Normal"> -->
                        <img src="static/icon/collar.png">
                        <span class="icon-label">Normal</span>
                    </div>
                </label>
                
                <label class="image-radio-item">
                    <input type="radio" name="style_collar" value="Ban">
                    <div class="icon-box">
                        <img src="{{ url_for('static', filename='icon/ban.png') }}" alt="Ban">
                        <span class="icon-label">Ban / Sherwani</span>
                    </div>
                </label>
                
                <label class="image-radio-item">
                    <input type="radio" name="style_collar" value="Spread">
                    <div class="icon-box">
                        <img src="{{ url_for('static', filename='icon/collar.png') }}" alt="Spread" style="opacity:0.5"> 
                        <span class="icon-label">Spread</span>
                    </div>
                </label>
                
                <label class="image-radio-item">
                    <input type="radio" name="style_collar" value="Other">
                    <div class="icon-box">
                        <div style="width:80px; height:80px; line-height:80px; font-size:30px; color:#ccc;">?</div>
                        <span class="icon-label">Other</span>
                    </div>
                </label>
            </div>

            <label class="style-section-label">2. Cuff Style</label>
            <div class="image-selector-group">
                <label class="image-radio-item">
                    <input type="radio" name="style_cuff" value="Button" checked>
                    <div class="icon-box">
                        <img src="{{ url_for('static', filename='icon/culf.png') }}" alt="Button">
                        <span class="icon-label">Button Cuff</span>
                    </div>
                </label>
                
                <label class="image-radio-item">
                    <input type="radio" name="style_cuff" value="French">
                    <div class="icon-box">
                        <img src="{{ url_for('static', filename='icon/culf.png') }}" alt="French">
                        <span class="icon-label">French Cuff</span>
                    </div>
                </label>
                
                <label class="image-radio-item">
                    <input type="radio" name="style_cuff" value="Open">
                    <div class="icon-box">
                        <div style="width:80px; height:80px; background:#eee;"></div>
                        <span class="icon-label">Open / Straight</span>
                    </div>
                </label>
                
                <label class="image-radio-item">
                    <input type="radio" name="style_cuff" value="Design">
                    <div class="icon-box">
                        <div style="width:80px; height:80px; background:#eee;"></div>
                        <span class="icon-label">Design</span>
                    </div>
                </label>
            </div>

            <label class="style-section-label">3. Pocket Style</label>
            <div class="image-selector-group">
                <label class="image-radio-item">
                    <input type="radio" name="style_pocket" value="Front" checked>
                    <div class="icon-box">
                        <img src="{{ url_for('static', filename='icon/pocket.png') }}" alt="Front">
                        <span class="icon-label">Front Only</span>
                    </div>
                </label>

                <label class="image-radio-item">
                    <input type="radio" name="style_pocket" value="Side">
                    <div class="icon-box">
                        <img src="{{ url_for('static', filename='icon/pocket.png') }}" alt="Side">
                        <span class="icon-label">Side Pockets</span>
                    </div>
                </label>

                <label class="image-radio-item">
                    <input type="radio" name="style_pocket" value="Both">
                    <div class="icon-box">
                        <img src="{{ url_for('static', filename='icon/pocket.png') }}" alt="Both">
                        <span class="icon-label">Front + Side</span>
                    </div>
                </label>
                
                <label class="image-radio-item">
                    <input type="radio" name="style_pocket" value="None">
                    <div class="icon-box">
                        <div style="width:80px; height:80px; line-height:80px; font-size:30px; color:#ccc;">X</div>
                        <span class="icon-label">No Pocket</span>
                    </div>
                </label>
            </div>

            <label class="style-section-label">Special Tailor Notes:</label>
            <textarea name="special_notes" rows="3" placeholder="Enter any extra details here..."></textarea>

            <button type="submit" class="btn-submit">Save & Print Order</button>
            <a href="/" class="back-link">Cancel & Go Back</a>
        </form>
    </div>
</body>
</html>