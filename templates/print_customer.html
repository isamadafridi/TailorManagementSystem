<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order #{{ customer.userId }}</title>
    <style>
        /* --- PRINTER SETTINGS FOR 4x6 LABEL --- */
        page {
            size: 114mm 162mm; /* 4.5" x 6.4" */
            margin: 0;         /* Zero margin to use full sticker */
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #555; /* Dark background so you can see the paper clearly */
            color: black;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center; /* Centers receipt and buttons */
            min-height: 100vh;
        }

        /* --- THE PAPER STICKER --- */
        .sticker-container {
            background: white;
            /* Set width slightly less than page to avoid cutting off */
            width: 112mm;  
            /* Set height */
            height: 160mm; 
            
            padding: 5px;
            box-sizing: border-box;
            font-size: 13px; /* Slightly larger text for this bigger size */
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        .header {
            border-bottom: 2px solid black;
            padding-bottom: 5px;
            margin-bottom: 5px;
            text-align: center;
        }
        .header h2 { margin: 0; font-size: 16px; text-transform: uppercase; }
        .header p { margin: 2px 0; font-size: 11px; }

        /* --- CUSTOMER INFO (Compact Grid) --- */
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2px;
            border-bottom: 1px dashed black;
            padding-bottom: 5px;
            margin-bottom: 5px;
            font-size: 11px;
        }

        /* --- MEASUREMENTS SECTION --- */
        .measure-container {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Split Shirt & Shalwar side by side */
            gap: 5px;
            margin-bottom: 5px;
        }

        .measure-box h3 {
            background: black;
            color: white;
            font-size: 11px;
            margin: 0 0 2px 0;
            padding: 2px;
            text-align: center;
        }

        .measure-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
        }
        .measure-table td {
            border-bottom: 1px solid #ccc;
            padding: 1px;
        }
        .measure-table th {
            text-align: left;
            font-weight: normal;
            color: #444;
            width: 60%;
        }
        .measure-table td:last-child {
            font-weight: bold;
            text-align: right;
        }

        /* --- ICONS / STYLES SECTION --- */
        .styles-header {
            font-weight: bold;
            border-bottom: 1px solid black;
            margin-bottom: 4px;
            font-size: 12px;
        }

        .style-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 Icons per row */
            gap: 4px;
        }

        .style-item {
            border: 1px solid #000;
            border-radius: 4px;
            text-align: center;
            padding: 2px;
        }
        
        .style-item img {
            width: 30px; /* Small icons to save space */
            height: 30px;
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }
        
        .style-name { font-size: 10px; font-weight: bold; line-height: 1.1; }
        .style-size { 
            background: black; color: white; 
            font-size: 9px; padding: 1px 3px; 
            border-radius: 2px; display: inline-block;
            margin-top: 1px;
        }

        /* --- FOOTER / NOTES --- */
        .notes {
            margin-top: 5px;
            border: 1px dashed #000;
            padding: 3px;
            font-size: 10px;
            height: 30px; /* Fixed height for notes */
            overflow: hidden;
            flex-grow: 1; /* Pushes notes to bottom if space remains */
        }

        /* --- BUTTONS (Screen Only) --- */
        .no-print {
            margin-top: 20px;
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .btn {
            padding: 12px 25px;
            text-decoration: none;
            color: white;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            border: none;
            font-size: 16px;
            font-family: sans-serif;
        }
        .btn-print { background: #27ae60; }
        .btn-print:hover { background: #219150; }
        .btn-back { background: #e74c3c; }
        .btn-back:hover { background: #c0392b; }

        /* --- SPECIAL PRINT RULE --- */
        @media print {
            body { 
                background: white; 
                padding: 0; 
                align-items: flex-start; 
            }
            .sticker-container { 
                box-shadow: none; 
                width: 100%; 
                height: 100%; 
                margin: 0; 
            }
            .no-print { 
                display: none !important; /* Hides buttons when printing */
            }
        }
    </style>
</head>
<body>

    <div class="sticker-container">
        <div class="header">
            <h2>Tailor Shop</h2>
            <p>Order ID: <strong>{{ customer.userId }}</strong> | Date: {{ customer.date.strftime('%d-%m-%Y') }}</p>
        </div>

        <div class="info-grid">
            <div>Name: <strong>{{ customer.userName }}</strong></div>
            <div>Phone: <strong>{{ customer.phone }}</strong></div>
            <div style="grid-column: span 2;">Suits: <strong>{{ customer.numberOfSuit }}</strong> </div>
        </div>

        <div class="measure-container">
            <div class="measure-box">
                <h3>Shirt / Kameez</h3>
                <table class="measure-table">
                    <tr><th>Length</th><td>{{ customer.height or '-' }}</td></tr>
                    <tr><th>Width</th><td>{{ customer.width or '-' }}</td></tr>
                    <tr><th>Chest</th><td>{{ customer.chestWidth or '-' }}</td></tr>
                    <tr><th>Arm</th><td>{{ customer.arm or '-' }}</td></tr>
                    <tr><th>Teera</th><td>{{ customer.teera or '-' }}</td></tr>
                    <tr><th>Collar</th><td>{{ customer.collar or '-' }}</td></tr>
                </table>
            </div>
            <div class="measure-box">
                <h3>Shalwar</h3>
                <table class="measure-table">
                    <tr><th>Length</th><td>{{ customer.shalwarLength or '-' }}</td></tr>
                    <tr><th>Poncha</th><td>{{ customer.poncha or '-' }}</td></tr>
                    <tr><th>Ghair</th><td>{{ customer.shalwarWidth or '-' }}</td></tr>
                    <tr><th>Asan</th><td>{{ customer.asan or '-' }}</td></tr>
                </table>
            </div>
        </div>

        <div class="styles-header">Stitching Styles</div>
        <div class="style-grid">
            
            <div class="style-item">
                {% if customer.style_collar == 'Ban' %}
                    <img src="{{ url_for('static', filename='icon/ban.png') }}">
                {% elif customer.style_collar == 'Spread' %}
                    <img src="{{ url_for('static', filename='icon/ScoopNeck.png') }}">
                {% else %}
                    <img src="{{ url_for('static', filename='icon/collar.png') }}">
                {% endif %}
                <div class="style-name">{{ customer.style_collar }}</div>
                {% if customer.size_collar %}<span class="style-size">{{ customer.size_collar }}"</span>{% endif %}
            </div>

            <div class="style-item">
                {% if customer.style_patti == 'Open' %}
                    <img src="{{ url_for('static', filename='icon/linePatti.png') }}">
                {% elif customer.style_patti == 'Hidden' %}
                    <img src="{{ url_for('static', filename='icon/hiddenPatti.png') }}">
                {% else %}
                    <img src="{{ url_for('static', filename='icon/patti.png') }}">
                {% endif %}
                <div class="style-name">{{ customer.style_patti }}</div>
                {% if customer.size_patti %}<span class="style-size">{{ customer.size_patti }}"</span>{% endif %}
            </div>

            <div class="style-item">
                {% if customer.style_cuff == 'French' %}
                    <img src="{{ url_for('static', filename='icon/openCulf.png') }}">
                {% elif customer.style_cuff == 'Open' %}
                    <img src="{{ url_for('static', filename='icon/NoCulf.png') }}">
                {% else %}
                    <img src="{{ url_for('static', filename='icon/culf.png') }}">
                {% endif %}
                <div class="style-name">{{ customer.style_cuff }}</div>
                {% if customer.size_cuff %}<span class="style-size">{{ customer.size_cuff }}"</span>{% endif %}
            </div>

            <div class="style-item">
                {% if customer.style_pocket == 'Both' %}
                    <img src="{{ url_for('static', filename='icon/shirtPocket.png') }}">
                    <div class="style-name">F+S</div>
                {% elif customer.style_pocket == 'None' %}
                    <div style="font-weight:bold; font-size:20px; line-height:30px;">X</div>
                    <div class="style-name">None</div>
                {% else %}
                    <img src="{{ url_for('static', filename='icon/pocket.png') }}">
                    <div class="style-name">Front</div>
                {% endif %}
            </div>

            <div class="style-item">
                {% if customer.style_daman == 'Round' %}
                    <img src="{{ url_for('static', filename='icon/roundDaman.png') }}">
                    <div class="style-name">Round</div>
                {% else %}
                    <img src="{{ url_for('static', filename='icon/straightDaman.png') }}">
                    <div class="style-name">Straight</div>
                {% endif %}
            </div>

            <div class="style-item">
                 {% if customer.style_shalwar_pocket == 'Side' %}
                    <img src="{{ url_for('static', filename='icon/pantPocket.png') }}">
                    <div class="style-name">Side</div>
                {% else %}
                    <div style="font-weight:bold; font-size:20px; line-height:30px;">X</div>
                    <div class="style-name">No Pkt</div>
                {% endif %}
            </div>

        </div>

        <div class="notes">
            <strong>Note:</strong> {{ customer.special_notes or '' }}
        </div>
    </div>

    <div class="no-print">
        <button onclick="window.print()" class="btn btn-print">üñ®Ô∏è Print Label</button>
        <a href="/" class="btn btn-back">‚Üê Back</a>
    </div>

</body>
</html>