<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order #{{ customer.userId }}</title>
    <style>
        /* --- PRINTER SETTINGS FOR 4x6 LABEL --- */
        page {
            size: 114mm 162mm;
            margin: 0;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #555;
            color: black;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- THE PAPER STICKER --- */
        .sticker-container {
            background: white;
            width: 112mm;  
            height: 160mm; 
            padding: 5px;
            box-sizing: border-box;
            font-size: 12px;
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        .header {
            border-bottom: 2px solid black;
            padding-bottom: 4px;
            margin-bottom: 4px;
            text-align: center;
        }
        .header h2 { margin: 0; font-size: 16px; text-transform: uppercase; }
        .header p { margin: 2px 0; font-size: 11px; }

        /* --- CUSTOMER INFO --- */
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2px;
            border-bottom: 1px dashed black;
            padding-bottom: 4px;
            margin-bottom: 4px;
            font-size: 11px;
        }

        /* --- SPLIT LAYOUT (THE NEW 35/65 CHANGE) --- */
        .split-layout {
            display: flex;
            flex: 1; /* Takes up remaining height */
            border-bottom: 1px solid black;
            margin-bottom: 4px;
        }

        /* LEFT SIDE (MEASUREMENTS) - 35% */
        .left-col {
            width: 35%;
            border-right: 1px solid #000;
            padding-right: 3px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        /* RIGHT SIDE (ICONS) - 65% */
        .right-col {
            width: 65%;
            padding-left: 3px;
        }

        /* --- MEASUREMENT TABLES --- */
        .measure-box h3 {
            background: black;
            color: white;
            font-size: 10px;
            margin: 0 0 2px 0;
            padding: 2px;
            text-align: center;
            text-transform: uppercase;
        }

        .measure-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
        }
        .measure-table th {
            text-align: left;
            font-weight: normal;
            color: #444;
            padding: 1px 0;
        }
        .measure-table td {
            font-weight: bold;
            text-align: right;
            border-bottom: 1px solid #ddd;
            padding: 1px 0;
        }

        /* --- ICONS GRID --- */
        .style-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr; /* 3 Icons per row */
            gap: 3px;
        }

        .style-item {
            border: 1px solid #333;
            border-radius: 4px;
            text-align: center;
            padding: 2px;
            min-height: 45px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #f9f9f9;
        }
        
        .style-item img {
            width: 25px; 
            height: 25px;
            object-fit: contain;
            display: block;
            margin-bottom: 2px;
        }
        
        .style-name { font-size: 9px; font-weight: bold; line-height: 1; margin-top: 1px; }
        .style-size { 
            /* background: rgb(255, 255, 255);  */
            /* color: rgb(0, 0, 0);  */
            font-weight: bold;
            font-size: 9px; padding: 1px 3px; 
            border-radius: 2px; display: inline-block;
            margin-top: 2px;
        }

        /* --- EXTRA INFO BOX (Kaj, Pkt Size) --- */
        .extras-row {
            display: flex;
            gap: 3px;
            margin-top: 3px;
        }
        .extra-box {
            border: 1px solid #333;
            flex: 1;
            text-align: center;
            font-size: 10px;
            background: #eee;
            padding: 2px;
        }

        /* --- FOOTER / NOTES --- */
        .notes {
            margin-top: 2px;
            padding: 3px;
            font-size: 10px;
            font-style: italic;
        }

        /* --- BUTTONS --- */
        .no-print { margin-top: 20px; display: flex; gap: 15px; }
        .btn { padding: 12px 25px; text-decoration: none; color: white; font-weight: bold; border-radius: 5px; cursor: pointer; border: none; font-size: 16px; }
        .btn-print { background: #27ae60; }
        .btn-back { background: #e74c3c; }

        @media print {
            body { background: white; padding: 0; }
            .sticker-container { box-shadow: none; width: 100%; height: 100%; margin: 0; }
            .no-print { display: none !important; }
        }
    </style>
</head>
<body>

    <div class="sticker-container">
        <div class="header">
            <h2>Tailor Shop</h2>
            <p>ID: <strong>{{ customer.userId }}</strong> | {{ customer.date.strftime('%d-%m-%Y') }}</p>
        </div>

        <div class="info-grid">
            <div>Name: <strong>{{ customer.userName }}</strong></div>
            <div>Ph: <strong>{{ customer.phone }}</strong></div>
            <div style="grid-column: span 2;">Suits: <strong>{{ customer.numberOfSuit }}</strong></div>
        </div>

        <div class="split-layout">
            
            <div class="left-col">
                <div class="measure-box">
                    <h3>Kameez</h3>
                    <table class="measure-table">
                        <tr><th>Len</th><td>{{ customer.height or '-' }}</td></tr>
                        <tr><th>Wid</th><td>{{ customer.width or '-' }}</td></tr>
                        <tr><th>Chest</th><td>{{ customer.chestWidth or '-' }}</td></tr>
                        <tr><th>Arm</th><td>{{ customer.arm or '-' }}</td></tr>
                        <tr><th>Teera</th><td>{{ customer.teera or '-' }}</td></tr>
                        <tr><th>Collar</th><td>{{ customer.collar or '-' }}</td></tr>
                    </table>
                </div>
                <div class="measure-box">
                    <h3>Shalwar</h3>
                    <table class="measure-table">
                        <tr><th>Len</th><td>{{ customer.shalwarLength or '-' }}</td></tr>
                        <tr><th>Pncha</th><td>{{ customer.poncha or '-' }}</td></tr>
                        <tr><th>Ghair</th><td>{{ customer.shalwarWidth or '-' }}</td></tr>
                        <tr><th>Asan</th><td>{{ customer.asan or '-' }}</td></tr>
                    </table>
                </div>
            </div>

            <div class="right-col">
                <div class="style-grid">
                    
                    <div class="style-item">
                        {% if customer.style_collar == 'Ban' %} <img src="{{ url_for('static', filename='icon/ban.png') }}">
                        {% elif customer.style_collar == 'Spread' %} <img src="{{ url_for('static', filename='icon/ScoopNeck.png') }}">
                        {% else %} <img src="{{ url_for('static', filename='icon/collar.png') }}"> {% endif %}
                        <div class="style-name">{{ customer.style_collar }}</div>
                        {% if customer.size_collar %}<span class="style-size">{{ customer.size_collar }}"</span>{% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_patti == 'Open' %} <img src="{{ url_for('static', filename='icon/linePatti.png') }}">
                        {% elif customer.style_patti == 'Hidden' %} <img src="{{ url_for('static', filename='icon/hiddenPatti.png') }}">
                        {% else %} <img src="{{ url_for('static', filename='icon/patti.png') }}"> {% endif %}
                        <div class="style-name">{{ customer.style_patti }}</div>
                        {% if customer.size_patti %}<span class="style-size">{{ customer.size_patti }}"</span>{% endif %}
                        {% if customer.kaj_count %}<span  class="style-size">Kaj: {{ customer.kaj_count }}</span>{% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_cuff == 'French' %} <img src="{{ url_for('static', filename='icon/openCulf.png') }}">
                        {% elif customer.style_cuff == 'Open' %} <img src="{{ url_for('static', filename='icon/NoCulf.png') }}">
                        {% else %} <img src="{{ url_for('static', filename='icon/culf.png') }}"> {% endif %}
                        <div class="style-name">{{ customer.style_cuff }}</div>
                        {% if customer.size_cuff %}<span class="style-size">{{ customer.size_cuff }}"</span>{% endif %}
                    </div>

                    <div class="style-item">
                        {% if 'Both' in customer.style_pocket %} <img src="{{ url_for('static', filename='icon/shirtPocket.png') }}"><div class="style-name">Both</div>
                        {% elif 'None' in customer.style_pocket %} <div style="font-weight:bold; font-size:16px;">X</div><div class="style-name">None</div>
                        {% else %} <img src="{{ url_for('static', filename='icon/pocket.png') }}"><div class="style-name">Front</div> {% endif %}
                        {% if customer.pocket_size %}<span class="style-size">Sz: {{ customer.pocket_size }}</span>{% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_daman == 'Round' %} <img src="{{ url_for('static', filename='icon/roundDaman.png') }}"><div class="style-name">Round</div>
                        {% else %} <img src="{{ url_for('static', filename='icon/straightDaman.png') }}"><div class="style-name">Straight</div> {% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_shalwar_pocket == 'Side' %} <img src="{{ url_for('static', filename='icon/pantPocket.png') }}"><div class="style-name">Side</div>
                        {% else %} <div style="font-weight:bold; font-size:16px;">X</div><div class="style-name">No Pkt</div> {% endif %}
                    </div>
                </div>

                <div class="extras-row">
                    <div class="extra-box" style="flex:1; text-align:left; padding-left:5px;">
                        <strong>Note:</strong> {{ customer.special_notes }}
                    </div>
                </div>

            </div>
        </div>

    </div>

    <div class="no-print">
        <button onclick="window.print()" class="btn btn-print">üñ®Ô∏è Print Label</button>
        <a href="/" class="btn btn-back">‚Üê Back</a>
    </div>

</body>
</html>