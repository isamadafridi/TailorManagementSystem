<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order #{{ customer.userId }}</title>
    <style>
        /* --- PRINTER SETTINGS --- */
        page { size: 114mm 162mm; margin: 0; }

        body {
            font-family: 'Noto Nastaliq Urdu', sans-serif;
            background: #555;
            color: black;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- STICKER CONTAINER --- */
        .sticker-container {
            background: white;
            width: 112mm;  
            height: 160mm; 
            padding: 5px;
            box-sizing: border-box;
            font-size: 12px;
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER (UPDATED WITH LOGO) --- */
        .header {
            font-family: 'Noto Nastaliq Urdu', sans-serif;
            border-bottom: 2px solid black;
            padding-bottom: 4px;
            margin-bottom: 4px;
            
            /* ADDED FLEXBOX TO ALIGN LOGO AND TEXT */
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px; /* Space between logo and text */
        }
        
        .header h2 { margin: 0; font-size: 16px; text-transform: uppercase; }
        .header p { margin: 2px 0; font-size: 11px; }

        /* NEW LOGO STYLE */
        .header-logo {
            width: 40px; 
            height: 40px; 
            object-fit: contain;
        }

        /* --- CUSTOMER INFO --- */
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2px;
            border-bottom: 1px dashed black;
            padding-bottom: 4px;
            margin-bottom: 4px;
            font-size: 11px;
            text-align: left; 
        }
        
        .info-grid div {
            display: flex;
            padding: 1px;
            align-items: center;
        }

        /* --- SPLIT LAYOUT (35% Measure | 65% Icons) --- */
        .split-layout {
            display: flex;
            flex: 1; 
            border-bottom: 1px solid black;
            margin-bottom: 4px;
        }

        /* LEFT SIDE: MEASUREMENTS */
        .left-col-measure {
            width: 20%;
            border-right: 1px solid #000; 
            padding-right: 3px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        /* RIGHT SIDE: ICONS */
        .right-col-icons {
            width: 80%;
            padding-left: 3px;
        }

        /* --- MEASUREMENT TABLES --- */
        .measure-box h3 {
            background: black;
            color: white;
            font-size: 11px;
            margin: 0 0 2px 0;
            padding: 2px;
            text-align: center;
        }

        .measure-table { width: 100%; border-collapse: collapse; font-size: 11px; }
        .measure-table th { text-align: right; font-weight: normal; color: #444; padding: 1px 0; }
        .measure-table td { font-weight: bold; text-align: left; border-bottom: 1px solid #ddd; padding: 1px 0; padding-left: 5px; }

        /* --- ICONS GRID --- */
        .style-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr; 
            gap: 2px;
        }

        .style-item {
            border: 1px solid #333;
            border-radius: 4px;
            text-align: center;
            padding: 2px;
            min-height: 55px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #f9f9f9;
        }
        
        .style-item img {
            width: 25px; 
            height: 25px;
            object-fit: contain;
            display: block;
            margin-bottom: 1px;
        }
        
        .style-name { font-size: 9px; font-weight: bold; line-height: 1.1; margin-top: 1px; font-family: 'Noto Nastaliq Urdu', serif; }
        
        .style-size { 
            background: black; color: white; 
            font-size: 9px; padding: 0 3px; 
            border-radius: 2px; display: inline-block;
            margin-top: 1px;
        }

        .style-extra {
            font-size: 8px; color: #333; margin-top: 0px; font-weight: bold;
        }

        /* --- BUTTONS --- */
        .no-print { margin-top: 20px; display: flex; gap: 15px; }
        .btn { padding: 12px 25px; text-decoration: none; color: white; font-weight: bold; border-radius: 5px; cursor: pointer; border: none; font-size: 16px; }
        .btn-print { background: #27ae60; }
        .btn-back { background: #e74c3c; }

        
        @media print {
            @page {
                size: 114mm 200mm;
                margin: 0; 
            }
            body { 
                background: white; 
                padding: 0; 
                margin: 0;
            }
            .sticker-container { 
                box-shadow: none; 
                width: 100%; 
                height: 100%; 
                margin: 0; 
            }
            .no-print { display: none !important; }
        }

        /* --- MANUAL WRITING AREA --- */
        .manual-write-area {
            border: 1px dashed #aaa; 
            margin-top: 5px;
            flex: 1; 
            min-height: 80px; 
            border-radius: 4px;
            position: relative;
        }
        
        .manual-write-area::after {
            position: absolute;
            bottom: 2px;
            right: 5px;
            font-size: 8px;
            color: #999;
        }
        
        .extra-box { border: 1px solid #333; flex: 1; text-align: right; font-size: 10px; background: #eee; padding: 2px; }

    </style>
</head>
<body>

    <div class="sticker-container">
        <div class="header">
            <img src="{{ url_for('static', filename='print_logo.png') }}" class="header-logo">
            <h2>AS Tailor</h2><b></b>
            <p>Phone Number: 033399988877</p>
        </div>

        <div class="info-grid">
            <div>Ø¢Ø¦ÛŒ ÚˆÛŒ : <strong>{{ customer.userId}}</strong></div>
            <div>Ù†Ø§Ù… : <strong>{{ customer.userName }}</strong></div>
            <div>ÙÙˆÙ† : <strong>{{ customer.phone }}</strong></div>
            <div>Ø³ÙˆÙ¹ : <strong>{{ customer.numberOfSuit }}</strong></div>
            <div>ØªØ§Ø±ÛŒØ® : <strong id="printDate"></strong></div>
            <div>Ø¨Ù‚Ø§ÛŒØ§ : <strong>{{ customer.price }}</strong></div>
        </div>

        <div class="split-layout">
            
            <div class="left-col-measure">
                <div class="measure-box">
                    <h3>Ù‚Ù…ÛŒØµ Ø´Ù„ÙˆØ§Ø±</h3>
                    <table class="measure-table">
                        <tr><th>Ù„Ù…Ø¨Ø§Ø¦ÛŒ</th><td>{{ customer.lambhai }}</td></tr>
                        <tr><th>ØªÛŒØ±Ø§</th><td>{{ customer.tera }}</td></tr>
                        <tr><th>Ø¨Ø§Ø²Ùˆ</th><td>{{ customer.bazo }}</td></tr>
                        <tr><th>Ú©Ø§Ù„Ø±</th><td>{{ customer.collar }}</td></tr>
                        <tr><th>Ú†Ú¾Ø§ØªÛŒ</th><td>{{ customer.chati }}</td></tr>
                        <tr><th>Ú©Ù…Ø±</th><td>{{ customer.kamar }}</td></tr>
                    <tr><th>Ú¯ÛŒØ­Ø±</th><td>{{ customer.ghaihr }}</td></tr>
                        <tr><th>Ø´Ù„ÙˆØ§Ø±</th><td>{{ customer.shalwar }}</td></tr>
                        <tr><th>Ù¾Ø§Ù†Ú†ÛŒÛ</th><td>{{ customer.poncha }}</td></tr>
                        <tr><th>Ú¯ÛŒØ±</th><td>{{ customer.ghair }}</td></tr>
                        <tr><th>Ø§Ø³Ù†</th><td>{{ customer.asan }}</td></tr>
                        <tr><th>Ø¯Ø±Ø² Ø¯Ø§Ø±</th><td>{% if customer.drzdar == 'Yes' %}ÛØ§Úº{% else %}Ù†ÛÛŒÚº{% endif %}</td></tr>
                    </table>
                </div>
            </div>

            <div class="right-col-icons">
                <div class="style-grid">
                    
                    <div class="style-item">
                        {% if customer.style_collar == 'collarGoll' %} 
                            <img src="{{ url_for('static', filename='icon/collarGoll.png') }}"><div class="style-name">Ú©Ø§Ù„Ø± Ú¯ÙˆÙ„</div>
                        {% elif customer.style_collar == 'ban' %} 
                            <img src="{{ url_for('static', filename='icon/ban.png') }}"><div class="style-name">Ø¨ÛŒÙ†</div>
                        {% elif customer.style_collar == 'benGoll' %} 
                            <img src="{{ url_for('static', filename='icon/benGoll.png') }}"><div class="style-name">Ø¨ÛŒÙ† Ú¯ÙˆÙ„</div>
                        {% elif customer.style_collar == 'benChoras' %} 
                            <img src="{{ url_for('static', filename='icon/benChoras.png') }}"><div class="style-name">Ø¨ÛŒÙ† Ú†ÙˆØ±Ø³</div>
                        {% elif customer.style_collar == 'hindiGalla' %} 
                            <img src="{{ url_for('static', filename='icon/hindiGalla.png') }}"><div class="style-name">ÛÙ†Ø¯ÛŒ Ú¯Ù„Û</div>
                        {% elif customer.style_collar == 'SamneyHindiBackBen' %} 
                            <img src="{{ url_for('static', filename='icon/samneyHindiBackBen.png') }}"><div class="style-name">ÛÙ†Ø¯ÛŒ Ø¨ÛŒÚ¯ Ø¨ÛŒÙ†</div>
                        {% else %} 
                            <img src="{{ url_for('static', filename='icon/collar.png') }}"><div class="style-name">Ú©Ø§Ù„Ø±</div> 
                        {% endif %}
                        {% if customer.size_collar %}<span class="style-extra">Ø³Ø§Ø¦Ø² : {{ customer.size_collar }}</span>{% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_patti == 'roundPatti' %} 
                            <img src="{{ url_for('static', filename='icon/roundPatti.png') }}"><div class="style-name">Ú¯ÙˆÙ„ Ù¾Ù¹ÛŒ</div>
                        {% elif customer.style_patti == 'anglePatti' %} 
                            <img src="{{ url_for('static', filename='icon/anglePatti.png') }}"><div class="style-name">Ù†Ú©Ø¯Ø§Ø± Ù¾Ù¹ÛŒ</div>
                        {% else %} 
                            <img src="{{ url_for('static', filename='icon/samplePatti.png') }}"><div class="style-name">Ø³Ø§Ø¯Û Ù¾Ù¹ÛŒ</div> 
                        {% endif %}
                        {% if customer.size_patti %}<span class="style-extra">Ø³Ø§Ø¦Ø² : {{ customer.size_patti }}</span>{% endif %}
                        {% if customer.kaj_count %}<div class="style-extra">Ú©Ø§Ø¬ : {{ customer.kaj_count }}</div>{% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_cuff == 'fetChuras' %} 
                            <img src="{{ url_for('static', filename='icon/fetChuras.png') }}"><div class="style-name">ÙÙ¹ Ú†ÙˆØ±Ø³</div>
                        {% elif customer.style_cuff == 'cutCuff' %} 
                            <img src="{{ url_for('static', filename='icon/cutCuff.png') }}"><div class="style-name">Ú©Ù¹ Ú©Ù</div>
                        {% elif customer.style_cuff == 'fitGollCuff' %} 
                            <img src="{{ url_for('static', filename='icon/fitGollCuff.png') }}"><div class="style-name">ÙÙ¹ Ú¯ÙˆÙ„</div>
                        {% elif customer.style_cuff == 'fitCuff' %} 
                            <img src="{{ url_for('static', filename='icon/fitGollCuff.png') }}"><div class="style-name">ÙÙ¹ Ú©Ù</div>
                        {% elif customer.style_cuff == 'studCuff' %} 
                            <img src="{{ url_for('static', filename='icon/studCuff.png') }}"><div class="style-name">Ø³Ù¹Úˆ Ú©Ù</div>
                        {% elif customer.style_cuff == 'gollBazo' %} 
                            <img src="{{ url_for('static', filename='icon/gollBazo.png') }}"><div class="style-name">Ú¯ÙˆÙ„ Ø¨Ø§Ø²Ùˆ</div>
                        {% elif customer.style_cuff == 'kaniBazo' %} 
                            <img src="{{ url_for('static', filename='icon/KaniBazo.png') }}"><div class="style-name">Ú©Ù†ÛŒ Ø¨Ø§Ø²Ùˆ</div>
                        {% else %} 
                            <img src="{{ url_for('static', filename='icon/fetCuff.png') }}"><div class="style-name">Ú©Ù</div> 
                        {% endif %}
                        {% if customer.size_cuff %}<span class="style-extra">Ø³Ø§Ø¦Ø² : {{ customer.size_cuff }}</span>{% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.mora %}
                            <div class="style-extra">Ù…ÙˆÚ‘Ø§: {{ customer.mora }}</div>
                        {% endif %}
                        <img src="{{ url_for('static', filename='icon/sholder.png') }}">
                        {% if customer.darmyan %}
                            <div class="style-extra">Ø¯Ø±Ù…ÛŒØ§Ù† : {{ customer.darmyan }}</div>
                        {% endif %}
                        </div>

                    <div class="style-item">
                        {% if customer.style_pocket == 'flapPocket' %} 
                            <img src="{{ url_for('static', filename='icon/flapPocket.png') }}"><div class="style-name">ÙÙ„Ù¾ Ø¬ÛŒØ¨</div>
                        {% elif customer.style_pocket == 'nokdarPocket' %} 
                            <img src="{{ url_for('static', filename='icon/nokdarPocket.png') }}"><div class="style-name">Ù†Ú©Ø¯Ø§Ø± Ø¬ÛŒØ¨</div>
                        {% elif customer.style_pocket == 'None' %} 
                            <div style="font-size:20px;">âŒ</div><div class="style-name">Ø¬ÛŒØ¨ Ù†ÛÛŒÚº</div>
                        {% else %} 
                            <img src="{{ url_for('static', filename='icon/samplePocket.png') }}"><div class="style-name">Ø³Ø§Ø¯Û Ø¬ÛŒØ¨</div> 
                        {% endif %}
                        
                        {% if customer.pocket_size %}
                            <div class="style-extra">Ù„Ù…Ø¨Ø§Ø¦ÛŒ : {{ customer.pocket_size }}</div>
                        {% endif %}
                        {% if customer.pocket_width %}
                            <div class="style-extra">Ú†ÙˆÚ‘Ø§Ø¦ÛŒ  : {{ customer.pocket_width }}</div>
                        {% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.side_pocket == 'doubleSidePocket' %} 
                            <img src="{{ url_for('static', filename='icon/doubleSidePocket.png') }}"><div class="style-name">ÚˆØ¨Ù„ Ø³Ø§Ø¦ÛŒÚˆ</div>
                        {% elif customer.side_pocket == 'ekSidePocket' %} 
                            <img src="{{ url_for('static', filename='icon/ekSidePocket.png') }}"><div class="style-name">Ø§ÛŒÚ© Ø³Ø§Ø¦ÛŒÚˆ</div>
                        {% else %}
                             <div style="font-size:20px;">-</div><div class="style-name">Ø³Ø§Ø¦ÛŒÚˆ Ø¬ÛŒØ¨</div>
                        {% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_daman == 'gollDaman' %} 
                            <img src="{{ url_for('static', filename='icon/gollDaman.png') }}"><div class="style-name">Ú¯ÙˆÙ„ Ø¯Ø§Ù…Ù†</div>
                        {% else %} 
                            <img src="{{ url_for('static', filename='icon/chorasDaman.png') }}"><div class="style-name">Ú†ÙˆØ±Ø³ Ø¯Ø§Ù…Ù†</div> 
                        {% endif %}
                    </div>

                    <div class="style-item">
                        {% if customer.style_shalwar_pocket == 'Side' %} 
                            <img src="{{ url_for('static', filename='icon/pantPocket.png') }}"><div class="style-name">Ø´Ù„ÙˆØ§Ø± Ø¬ÛŒØ¨</div>
                        {% else %} 
                            <div style="font-size:20px;">âŒ</div><div class="style-name">Ø´Ù„ÙˆØ§Ø± Ø¬ÛŒØ¨ Ù†ÛÛŒÚº</div> 
                        {% endif %}
                    </div>

                </div>

                <div class="manual-write-area">
                    <div class="extra-box" style="width:100%; text-align:right;">
                        <strong>Ù†ÙˆÙ¹:</strong> {{ customer.special_notes }}
                    </div>
                </div>
                

            </div>
        </div>

    </div>

    <div class="no-print">
        <button onclick="window.print()" class="btn btn-print">ğŸ–¨ï¸ Ø±Ø³ÛŒØ¯ Ù¾Ø±Ù†Ù¹ Ú©Ø±ÛŒÚº</button>
        <a href="javascript:history.back()" class="btn btn-back">ÙˆØ§Ù¾Ø³ Ø¬Ø§Ø¦Û’</a>
    </div>

    <script>
        const d = new Date();
        // Format: DD-MM-YYYY
        const formattedDate = ("0" + d.getDate()).slice(-2) + "-" + ("0" + (d.getMonth() + 1)).slice(-2) + "-" + d.getFullYear();
        document.getElementById("printDate").innerText = formattedDate;
    </script>

</body>
</html>